---
import CoreLayout from "../layouts/CoreLayout.astro";
import Tag from "../components/atoms/Tag.astro";
import type { ProjectRepository } from "../features/Project/domain/ProjectRepository";
import { NotionProjectRepository } from "../features/Project/infrastructure/NotionProjectRepository";
import { GetAllProjects } from "../features/Project/application/GetAllProjects";

const projectRepository: ProjectRepository = new NotionProjectRepository();
const projects = await new GetAllProjects(projectRepository).run()
---

<CoreLayout  title="Oscar Moreira | Home">
  <div class="flex flex-col gap-6">
    <div class="flex gap-2 font-bold text-6xl mt-20">
      <span class="text-stone-600">Hey, soy</span>
      <h1 class="text-emerald-500">Oscar Moreira ðŸŒ´</h1>
    </div>
    <p class="text-xl text-stone-600 font-normal">
        Software Engineer, enfocado en el desarrollo Frontend, aunque me encanta explorar y aprender de otras Ã¡reas.
        Me gusta estar en constante aprendizaje, desarrollar aplicando buenas prÃ¡cticas y compartir conocimiento.
    </p>
    
    <h1 class="font-bold text-xl">Projects</h1>
    <div class="flex gap-4">
      {
        projects.map(project => {
          return (
            <div class="w-[340px] h-[200px] flex flex-col gap-4 p-4 shadow-2xl shadow-stone-200 rounded-md border-[0.5px]">
              <h2 class="font-semibold">{project.name}</h2>
              <p class="text-gray-500 ">{project.description}</p>
              <div class="flex gap-2">
                {
                  project.tags.map(tag => <Tag>{tag}</Tag>)
                }
              </div>
              <div class="flex justify-between">
                <a href={project.linkApp} class="text-emerald-500">Ver proyecto</a>  
                <a href={project.linkProject} class="text-emerald-500">Ver cÃ³digo</a>
              </div>
            </div>
          )
        })
      }
    </div>
  </div>
</CoreLayout>
